<div class="whole-body">
  <div class="sticky-top">
    <app-header></app-header></div>
    <div class="sidebar-content d-flex">
      <div class="sidebar">
      <app-sidebar></app-sidebar>
      </div></div>
  <div class="container content-container mt-5 " id="content-wrapper">
    <div class="row searchbar">
      <div class="col-md-6">
        <button class="button-expo" routerLink="project/add">Add PROJECT</button>
      </div>
      <div class="col-md-6 d-flex justify-centent-end">
        <div class="input-container">
        <input
         type="text" 
         class="input-box" 
         placeholder="Search" 
         [(ngModel)]="search" (keyup.enter)="onSearch()">
        <i class="mdi mdi-window-close cancel-icon" (click)="clearSearch()"></i>
      </div>
        <button class="btn ms-2 searchBtn" (click)="onSearch()">
          SEARCH
        </button>
      </div>
    </div>
  <!-- </div> -->
  <div class="container mt-5 ">
    <div class="row">
      <div class="col-md-12">
        <button class="btn"
          [ngClass]="{ 'btn-primary': selectedStatus === '', 'btn-outline-primary': selectedStatus !== '' }"
          (click)="filterBystatus('')">
          All Data ({{totalEntriesCount}})
        </button>
        <button class="btn ms-2"
          [ngClass]="{ 'btn-primary': selectedStatus === 'created', 'btn-outline-primary': selectedStatus !== 'created' }"
          (click)="filterBystatus('created')">
          Created ({{createdCount}})
        </button>
        <button class="btn ms-2"
          [ngClass]="{ 'btn-primary': selectedStatus === 'running', 'btn-outline-primary': selectedStatus !== 'running'}"
          (click)="filterBystatus('running')">
          Running ({{runningCount}})
        </button>
        <button class="btn ms-2"
          [ngClass]="{ 'btn-primary': selectedStatus === 'completed', 'btn-outline-primary': selectedStatus !== 'completed' }"
          (click)="filterBystatus('completed')">
          Completed({{completedCount}})
        </button>
      </div>
    </div>
  </div>
  <div class="container mt-5 ps-0 pe-0">
    <div class="row">
      <div class="col-12 ps-0 pe-0">
        <table class="table table-dark align-start table-striped shadow-lg">
          <thead>
            <tr>
              <th class="py-3 ps-3 bg-success">ID</th>
              <th class="py-3 ps-3 bg-success" (click)="sortDep('name')">NAME <i class="mdi mdi-menu-up hover-menu"></i></th>
              <th class="py-3 ps-3 bg-success">DESCRIPTION</th>
              <th class="py-3 ps-3 bg-success" *ngIf="selectedStatus==''">STATUS </th>
              <th class="py-3 ps-3 bg-success" (click)="sortDep('createdon')">CREATEDON <i class=" mdi mdi-menu-up hover-menu"></i>
              </th>
              <th class="py-3 ps-3 bg-success">ACTION</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of ProjectList; let i = index">
              <td class="text-center">{{ getGlobalIndex(i) }}</td>
              <td class="text-start ps-2">{{ item.name }}</td>
              <td class="text-start ps-2">{{ item.description }}</td>
              <td *ngIf="selectedStatus==''">
                <div *ngIf="item.status == 0">Created</div>
                <div *ngIf="item.status == 1">Running</div>
                <div *ngIf="item.status == 2">Completed</div>
              </td>
              <td class="text-start ps-2">{{ item.createdOn | date:'dd/MM/yyyy , h:mm a' }}</td>
              <td class="text-start ps-2">
                <button class="btn btn-primary  fw-medium btn-sm ms-2"
                  [routerLink]="['project/edit', item.id]">UPDATE</button>
                <button class="btn updateBtn btn-sm  ms-2" [routerLink]="['project/view', item.id]">More
                  Details</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="container mt-5 ">
    <div class="row ">
      <div class="col-4 mb-5 paginator-parent">
        <mat-paginator class="pagination shadow"
          [length]="statusEntriesCount ? displayedEntriesCount : totalEntriesCount" [pageSize]="filterObj.pageSize"
          [pageSizeOptions]="[5, 10, 20, 50]" aria-label="Select page" (page)="onPageEvent($event)">
        </mat-paginator>
      </div>
      <div class="col-md-6 ms-4 d-flex">
        <input type="number" min="1" [max]="getMaxPage()" [(ngModel)]="pageInput" placeholder="page"
          class="form-control go-input text-center">

        <button class="btn btn-primary go-btn " (click)="goToPage()">GO</button>
        <div *ngIf="errorMsg" class="error-message text-danger">
          {{ errorMsg }}
        </div>
      </div>
    </div>
  </div>
</div>
</div>